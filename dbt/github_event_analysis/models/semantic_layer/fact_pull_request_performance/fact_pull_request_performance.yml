version: 2

models:
  - name: fact_pull_request_performance
    description: |
      Fact table providing analytics on pull request performance and lifetime, including event counts, PR duration, and user/repo details.
    columns:
      - name: pull_request_id
        description: Unique identifier for the pull request (hashed).
      - name: repo_name
        description: Name of the repository.
      - name: repo_id
        description: Unique identifier for the repository (hashed).
      - name: source_pr_id
        description: Source pull request ID from GitHub.
      - name: source_pr_number
        description: Pull request number in the repository.
      - name: title
        description: Title of the pull request.
      - name: current_state
        description: Current state of the pull request (open, closed, merged, etc.).
      - name: is_draft
        description: Indicates if the pull request is a draft.
      - name: pr_created_date
        description: Timestamp when the pull request was created.
      - name: pr_merged_date
        description: Timestamp when the pull request was merged.
      - name: pr_closed_date
        description: Timestamp when the pull request was closed.
      - name: pr_updated_date
        description: Timestamp when the pull request was last updated.
      - name: source_author_id
        description: Source user ID of the pull request author.
      - name: author_login
        description: GitHub login of the pull request author.
      - name: source_assignee_id
        description: Source user ID of the assignee.
      - name: source_closed_by_user_id
        description: Source user ID of the user who closed the PR.
      - name: merge_commit_sha
        description: SHA of the merge commit.
      - name: _load_date
        description: Timestamp when the record was loaded.
      - name: _ingest_timestamp
        description: Timestamp when the record was ingested.
      - name: event_count
        description: Number of events associated with the pull request.
      - name: first_event_time
        description: Timestamp of the first event for the pull request.
      - name: last_event_time
        description: Timestamp of the last event for the pull request.
      - name: pr_lifetime_days
        description: Lifetime of the pull request in days (from creation to close/merge/update).
